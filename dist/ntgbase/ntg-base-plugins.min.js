fotoramaVersion="4.6.4",((r,ye,be,xe,i)=>{function _e(){}function Ce(t,e,o){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(o)?1/0:o,t))}function Te(t){var e={};return He?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function Qe(t){return{"transition-duration":t+"ms"}}function n(t,e){return isNaN(t)?e:t}function ke(t,e){return n(+String(t).replace(e||"px",""))}function Me(t,e){return n((/%$/.test(o=t)?ke(o,"%"):i)/100*e,ke(t));var o}function Se(t){return(!isNaN(ke(t))||!isNaN(ke(t,"%")))&&t}function Fe(t,e,o,n){return(t-(n||0))*(e+(o||0))}function s(t,e,o,n){var a,i,r=t.data();r&&(r.onEndFn=function(){a||(a=!0,clearTimeout(r.tT),o())},r.tProp=e,clearTimeout(r.tT),r.tT=setTimeout(function(){r.onEndFn()},1.5*n),(i=(e=t).data()).tEnd||(qe(e[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[l.prefixed("transition")],function(t){i.tProp&&t.propertyName.match(i.tProp)&&i.onEndFn()}),i.tEnd=!0))}function Ue(o,t){var e;if(o.length)return e=o.data(),He?(o.css(Qe(0)),e.onEndFn=_e,clearTimeout(e.tT)):o.stop(),e=Ye(t,function(){return t=o,He?+((e=t.css("transform")).match(/ma/)&&e.match(/-?\d+(?!d)/g)[e.match(/3d/)?12:4]):+t.css("left").replace("px","");var t,e}),o.css(Te(e)),e}function Ye(){for(var t,e=0,o=arguments.length;e<o&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function u(t,e){return Math.round(t+(e-t)/1.5)}function Ee(){return Ee.p=Ee.p||("https:"===be.protocol?"https://":"http://"),Ee.p}function Ge(t,e){var o,n,a,i;return"string"!=typeof t?t:(i=t,(o=ye.createElement("a")).href=i,(t=o).host.match(/youtube\.com/)&&t.search?(n=t.search.split("v=")[1])&&(-1!==(i=n.indexOf("&"))&&(n=n.substring(0,i)),a="youtube"):t.host.match(/youtube\.com|youtu\.be/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),a="youtube"):t.host.match(/vimeo\.com/)&&(a="vimeo",n=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,"")),n&&a||!e||(n=t.href,a="custom"),!!n&&{id:n,type:a,s:t.search.replace(/^\?/,""),p:Ee()})}function Je(t,e,o,n){for(var a=0,i=t.length;a<i;a++){var r=t[a];if(r.i===o&&r.thumbsReady){var s={videoReady:!0};s[Xe]=s[Qo]=s[Xo]=!1,n.splice(a,1,xe.extend({},r,s,e));break}}}function Ze(t){function c(t,e,o){var n=o.thumb&&o.img!==o.thumb,a=ke(o.width||t.attr("width")),t=ke(o.height||t.attr("height"));xe.extend(o,{width:a,height:t,thumbratio:io(o.thumbratio||ke(o.thumbwidth||e&&e.attr("width")||n||a)/ke(o.thumbheight||e&&e.attr("height")||n||t))})}var d=[];return t.children().each(function(){var t,e,o,n,a,i,r,s,u=xe(this),l=ao(xe.extend(u.data(),{id:u.attr("id")}));if(u.is("a, img"))e=l,o=!0,n=(t=u).children("img").eq(0),a=t.attr("href"),i=t.attr("src"),r=n.attr("src"),s=e.video,(o=!!o&&Ge(a,!0===s))?a=!1:o=s,c(t,n,xe.extend(e,{video:o,img:e.img||a||i||r,thumb:e.thumb||r||i||a}));else{if(u.is(":empty"))return;c(u,null,xe.extend(l,{html:this,_html:u.html()}))}d.push(l)}),d}function Pe(t,e,o,n){return Pe.i||(Pe.i=1,Pe.ii=[!0]),n=n||Pe.i,void 0===Pe.ii[n]&&(Pe.ii[n]=!0),t()?e():Pe.ii[n]&&setTimeout(function(){Pe.ii[n]&&Pe(t,e,o,n)},o||100),Pe.i++}function to(t,e,o,n){var a,i,r,s,u,l,c,d=t.data(),f=d.measures;return!f||d.l&&d.l.W===f.width&&d.l.H===f.height&&d.l.r===f.ratio&&d.l.w===e.w&&d.l.h===e.h&&d.l.m===o&&d.l.p===n||(a=f.width,i=f.height,r=e.w/e.h,r=f.ratio>=r,s="scaledown"===o,u="contain"===o,l="cover"===o,c={x:Se((c=((c=n)+"").split(/\s+/))[0])||z,y:Se(c[1])||z},r&&(s||u)||!r&&l?i=(a=Ce(e.w,0,s?a:1/0))/f.ratio:(r&&l||!r&&(s||u))&&(a=(i=Ce(e.h,0,s?i:1/0))*f.ratio),t.css({width:a,height:i,left:Me(c.x,e.w-a),top:Me(c.y,e.h-i)}),d.l={W:f.width,H:f.height,r:f.ratio,w:e.w,h:e.h,m:o,p:n}),!0}function je(t,e,o){return e!==o&&(t<=e?"left":o<=t?"right":"left right")}function eo(t,e,o,n){if(!o)return!1;if(!isNaN(t))return t-(n?0:1);for(var a,i=0,r=e.length;i<r;i++)if(e[i].id===t){a=i;break}return a}function Ne(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function oo(t){for(var e=t.length;e;){var o=Math.floor(Math.random()*e--),n=t[e];t[e]=t[o],t[o]=n}return t}function no(t){return"[object Array]"==Object.prototype.toString.call(t)&&xe.map(t,function(t){return xe.extend({},t)})}function $e(t,e,o){t.scrollLeft(e||0).scrollTop(o||0)}function ao(t){var o;if(t)return o={},xe.each(t,function(t,e){o[t.toLowerCase()]=e}),o}function io(t){var e;if(t)return e=+t,isNaN(e)?+(e=t.split("/"))[0]/+e[1]||i:e}function qe(t,e,o,n){e&&(t.addEventListener?t.addEventListener(e,o,!!n):t.attachEvent("on"+e,o))}function ro(t){return{tabindex:-1*t+"",disabled:t}}function so(e,o){qe(e,"keyup",function(t){e.getAttribute("disabled")||13==t.keyCode&&o.call(e,t)})}function uo(e,o){qe(e,"focus",e.onfocusin=function(t){o.call(e,t)},!0)}function Ae(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function lo(t){return t?">":"<"}function ze(t,e){var o=t.data(),n=Math.round(e.pos),a=function(){o.sliding=!1,(e.onEnd||_e)()},n=(void 0!==e.overPos&&e.overPos!==e.pos&&(n=e.overPos,a=function(){ze(t,xe.extend({},e,{overPos:e.pos,time:Math.max(Be,e.time/2)}))}),xe.extend(Te(n),e.width&&{width:e.width}));o.sliding=!0,He?(t.css(xe.extend(Qe(e.time),n)),10<e.time?s(t,"transform",a,e.time):a()):t.stop().animate(n,e.time,A,a)}function co(t,e,o,n,a,i){var r,s,u,l,c=void 0!==i;!c&&(a.push(arguments),Array.prototype.push.call(arguments,a.length),1<a.length)||(t=t||xe(t),e=e||xe(e),r=t[0],s=e[0],u="crossfade"===n.method,l=function(){var t;l.done||(l.done=!0,(t=(c||a.shift())&&a.shift())&&co.apply(this,t),(n.onEnd||_e)(!!t))},i=n.time/(i||1),o.removeClass(h+" "+f),t.stop().addClass(h),e.stop().addClass(f),u&&s&&t.fadeTo(0,0),t.fadeTo(u?i:0,1,u&&l),e.fadeTo(i,0,l),r&&u)||s||l()}function w(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=xe.now()}function fo(t,i){function e(t){return a=xe(t.target),v.checked=d=f=m=!1,s||v.flow||t.touches&&1<t.touches.length||1<t.which||S&&S.type!==t.type&&E||(d=i.select&&a.is(i.select,p))?d:(c="touchstart"===t.type,f=a.is("a, a *",p),l=v.control,h=v.noMove||v.noSwipe||l?16:v.snap?0:4,w(t),u=S=t,F=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(i.onStart||_e).call(p,t,{control:l,$target:a}),s=v.flow=!0,void(c&&!v.go||Ae(t)))}function o(t){var e,o,n,a;t.touches&&1<t.touches.length||Ke&&!t.isPrimary||F!==t.type||!s?(s&&r(),(i.onTouchEnd||_e)()):(w(t),a=(e=Math.abs(t._x-u._x))-(o=Math.abs(t._y-u._y)),n=(v.go||v.x||0<=a)&&!v.noSwipe,a=a<0,c&&!v.checked?(s=n)&&Ae(t):(Ae(t),(i.onMove||_e).call(p,t,{touch:c})),!m&&Math.sqrt(Math.pow(e,2)+Math.pow(o,2))>h&&(m=!0),v.checked=v.checked||n||a)}function r(t){(i.onTouchEnd||_e)();var e=s;v.control=s=!1,e&&(v.flow=!1),!e||f&&!v.checked||(t&&Ae(t),E=!0,clearTimeout(P),P=setTimeout(function(){E=!1},1e3),(i.onEnd||_e).call(p,{moved:m,$target:a,control:l,touch:c,startEvent:u,aborted:!t||"MSPointerCancel"===t.type}))}function n(){v.flow&&setTimeout(function(){v.flow=!1},Ve)}var s,u,a,l,c,d,f,h,m,p=t[0],v={};return Ke?(qe(p,"MSPointerDown",e),qe(ye,"MSPointerMove",o),qe(ye,"MSPointerCancel",r),qe(ye,"MSPointerUp",r)):(qe(p,"touchstart",e),qe(p,"touchmove",o),qe(p,"touchend",r),qe(ye,"touchstart",function(){v.flow||setTimeout(function(){v.flow=!0},10)}),qe(ye,"touchend",n),qe(ye,"touchcancel",n),We.on("scroll",n),t.on("mousedown",e),Ho.on("mousemove",o).on("mouseup",r)),t.on("click","a",function(t){v.checked&&Ae(t)}),v}function ho(w,g){function y(t,e){E=!0,o=b=t._x,C=[[t._now,o]],x=_=j.noMove||e?0:Ue(w,(g.getPos||_e)()),(g.onStart||_e).call(P,t)}var o,b,x,_,n,C,T,k,M,S,F,a,E,P=w[0],i=w.data(),j={};return j=xe.extend(fo(g.$wrap,xe.extend({},g,{onStart:function(t,e){k=j.min,M=j.max,S=j.snap,F=t.altKey,E=a=!1,e.control||i.sliding||y(t)},onMove:function(t,e){j.noSwipe||(E||y(t),b=t._x,C.push([t._now,b]),n=je(_=x-(o-b),k,M),_<=k?_=u(_,k):M<=_&&(_=u(_,M)),j.noMove)||(w.css(Te(_)),a||(a=!0,e.touch)||Ke||w.addClass(N),(g.onMove||_e).call(P,t,{pos:_,edge:n}))},onEnd:function(t){if(!j.noSwipe||!t.moved){E||y(t.startEvent,!0),t.touch||Ke||w.removeClass(N);for(var e,o,n,a,i,r=(T=xe.now())-Ve,s=null,u=Be,l=g.friction,c=C.length-1;0<=c;c--){if(e=C[c][0],o=Math.abs(e-r),null===s||o<n)s=e,a=C[c][1];else if(s===r||n<o)break;n=o}var d=Ce(_,k,M),f=a-b,h=0<=f,m=T-s,p=Ve<m,v=!p&&_!==x&&d===_;S&&(d=Ce(Math[v?h?"floor":"ceil":"round"](_/S)*S,k,M),k=M=d),v&&(S||d===_)&&(v=-f/m,u*=Ce(Math.abs(v),g.timeLow,g.timeHigh),f=Math.round(_+v*u/l),S||(d=f),!h&&M<f||h&&f<k)&&(m=h?k:M,i=Ce((d=S?d:m)+.03*(i=f-m),m-50,m+50),u=Math.abs((_-i)/(v/l))),u*=F?10:1,(g.onEnd||_e).call(P,xe.extend(t,{moved:t.moved||p&&S,pos:_,newPos:d,overPos:i,time:u}))}}})),j)}function mo(t,s){var u,l,c,t=t[0],d={prevent:{}};return qe(t,$,function(t){var e=t.wheelDeltaY||-1*t.deltaY||0,o=t.wheelDeltaX||-1*t.deltaX||0,e=Math.abs(o)&&!Math.abs(e),n=lo(o<0),a=l===n,i=xe.now(),r=i-c<Ve;l=n,c=i,e&&d.ok&&(!d.prevent[n]||u)&&(Ae(t,!0),u&&a&&r||(s.shift&&(u=!0,clearTimeout(d.t),d.t=setTimeout(function(){u=!1},q)),(s.onEnd||_e)(t,s.shift?n:o)))}),d}function po(){xe.each(xe.Fotorama.instances,function(t,e){e.index=t})}var Le="fotorama",Oe="fullscreen",Ie=Le+"__wrap",vo=Ie+"--video",wo=Ie+"--no-controls",go=Ie+"--only-active",yo=Le+"__stage",bo=yo+"__frame",xo=Le+"__grab",_o=Le+"__arr",Co=_o+"--disabled",To=Le+"__nav",ko=To+"--dots",Mo=To+"--thumbs",So=To+"__frame",f=(t=Le+"__fade")+"-front",h=t+"-rear",Fo="fotorama__shadows",Eo=Le+"__active",Po=Le+"__select",jo=Le+"--fullscreen",No=Le+"__error",$o=Le+"__loading",qo=Le+"__loaded",N=Le+"__grabbing",Ao=Le+"__img",zo=Le+"__thumb",Lo=(t=Le+"__video")+"-play",De='" tabindex="0" role="button';if(!(t=xe&&xe.fn.jquery.split("."))||t[0]<1||1==t[0]&&t[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var l=((c,d)=>{function f(t,e){return typeof t===e}function h(t,e){for(var o in t){o=t[o];if(!~(""+o).indexOf("-")&&i[o]!==d)return"pfx"!=e||o}return!1}function n(t,e,o){var n=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+v.join(n+" ")+n).split(" ");if(f(e,"string")||void 0===e)return h(a,e);var i,r=(t+" "+w.join(n+" ")+n).split(" "),s=e,u=o;for(i in r){var l=s[r[i]];if(l!==d)return!1===u?r[i]:f(l,"function")?l.bind(u||s):l}return!1}var t,e,a={},m=c.documentElement,p="modernizr",i=c.createElement(p).style,o=" -webkit- -moz- -o- -ms- ".split(" "),r="Webkit Moz O ms",v=r.split(" "),w=r.toLowerCase().split(" "),s={},u=[],l=u.slice,g={}.hasOwnProperty,y=void 0===g||void 0===g.call?function(t,e){return e in t&&void 0===t.constructor.prototype[e]}:function(t,e){return g.call(t,e)};for(e in Function.prototype.bind||(Function.prototype.bind=function(o){var n=this;if("function"!=typeof n)throw new TypeError;var a=l.call(arguments,1),i=function(){var t,e;return this instanceof i?((t=function(){}).prototype=n.prototype,t=new t,e=n.apply(t,a.concat(l.call(arguments))),Object(e)===e?e:t):n.apply(o,a.concat(l.call(arguments)))};return i}),s.csstransforms3d=function(){return!!n("perspective")},s)y(s,e)&&(t=e.toLowerCase(),a[t]=s[e](),u.push((a[t]?"":"no-")+t));return a.addTest=function(t,e){if("object"==typeof t)for(var o in t)y(t,o)&&a.addTest(o,t[o]);else{if(t=t.toLowerCase(),a[t]!==d)return a;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(m.className+=" "+(e?"":"no-")+t),a[t]=e}return a},i.cssText="",a._version="2.6.2",a._prefixes=o,a._domPrefixes=w,a._cssomPrefixes=v,a.testProp=function(t){return h([t])},a.testAllProps=n,a.testStyles=function(t,e,o,n){var a,i,r,s=c.createElement("div"),u=c.body,l=u||c.createElement("body");if(parseInt(o,10))for(;o--;)(i=c.createElement("div")).id=n?n[o]:p+(o+1),s.appendChild(i);return a=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),s.id=p,(u?s:l).innerHTML+=a,l.appendChild(s),u||(l.style.background="",l.style.overflow="hidden",r=m.style.overflow,m.style.overflow="hidden",m.appendChild(l)),a=e(s,t),u?s.parentNode.removeChild(s):(l.parentNode.removeChild(l),m.style.overflow=r),!!a},a.prefixed=function(t,e,o){return e?n(t,e,o):n(t,"pfx")},a})(ye),Re={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},o="webkit moz o ms khtml".split(" ");if(void 0!==ye.cancelFullScreen)Re.ok=!0;else for(var a=0,c=o.length;a<c;a++)if(Re.prefix=o[a],void 0!==ye[Re.prefix+"CancelFullScreen"]){Re.ok=!0;break}Re.ok&&(Re.event=Re.prefix+"fullscreenchange",Re.is=function(){switch(this.prefix){case"":return ye.fullScreen;case"webkit":return ye.webkitIsFullScreen;default:return ye[this.prefix+"FullScreen"]}},Re.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},Re.cancel=function(){return""===this.prefix?ye.cancelFullScreen():ye[this.prefix+"CancelFullScreen"]()});var Oo,m,g,y,b,x,Io={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Do={top:"auto",left:"auto",className:""};function _(t,e){return p("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}function p(t,e){var o,n=ye.createElement(t||"div");for(o in e)n[o]=e[o];return n}function d(t){for(var e=1,o=arguments.length;e<o;e++)t.appendChild(arguments[e]);return t}function C(t,e){var o,n,a=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<g.length;n++)if(a[o=g[n]+e]!==i)return o;return a[e]!==i?e:void 0}function v(t,e){for(var o in e)t.style[C(t,o)||o]=e[o];return t}function T(t){for(var e=1;e<arguments.length;e++){var o,n=arguments[e];for(o in n)t[o]===i&&(t[o]=n[o])}return t}function k(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function M(t,e){return"string"==typeof t?t:t[e%t.length]}function e(t){return void 0===this?new e(t):void(this.opts=T(t||{},e.defaults,x))}g=["webkit","Moz","ms","O"],y={},b=(()=>{var t=p("style",{type:"text/css"});return d(ye.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet})(),x={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},e.defaults={},T(e.prototype,{spin:function(t){this.stop();var e,o,n,a,i,r,s,u,l,c=this,d=c.opts,f=c.el=v(p(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex}),h=d.radius+d.length+d.width;return t&&(t.insertBefore(f,t.firstChild||null),o=k(t),e=k(f),v(f,{left:("auto"==d.left?o.x-e.x+(t.offsetWidth>>1):parseInt(d.left,10)+h)+"px",top:("auto"==d.top?o.y-e.y+(t.offsetHeight>>1):parseInt(d.top,10)+h)+"px"})),f.setAttribute("role","progressbar"),c.lines(f,c.opts),m||(a=0,i=(d.lines-1)*(1-d.direction)/2,r=d.fps,s=r/d.speed,u=(1-d.opacity)/(s*d.trail/100),l=s/d.lines,function t(){a++;for(var e=0;e<d.lines;e++)n=Math.max(1-(a+(d.lines-e)*l)%s*u,d.opacity),c.opacity(f,e*d.direction+i,n,d);c.timeout=c.el&&setTimeout(t,~~(1e3/r))}()),c},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this},lines:function(t,o){function e(t,e){return v(p(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*l+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var n,a,i,r,s,u,l=0,c=(o.lines-1)*(1-o.direction)/2;l<o.lines;l++)u=v(p(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:m&&(n=o.opacity,u=s=void 0,s=["opacity",a=o.trail,~~(100*n),i=c+l*o.direction,r=o.lines].join("-"),i=.01+i/r*100,r=Math.max(1-(1-n)/a*(100-i),n),u=(u=m.substring(0,m.indexOf("Animation")).toLowerCase())&&"-"+u+"-"||"",y[s]||(b.insertRule("@"+u+"keyframes "+s+"{0%{opacity:"+r+"}"+i+"%{opacity:"+n+"}"+(.01+i)+"%{opacity:1}"+(i+a)%100+"%{opacity:"+n+"}100%{opacity:"+r+"}}",b.cssRules.length),y[s]=1),s+" "+1/o.speed+"s linear infinite")}),o.shadow&&d(u,v(e("#000","0 0 4px #000"),{top:"2px"})),d(t,d(u,e(M(o.color,l),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,o){e<t.childNodes.length&&(t.childNodes[e].style.opacity=o)}}),!C(t=v(p("group"),{behavior:"url(#default#VML)"}),"transform")&&t.adj?(b.addRule(".spin-vml","behavior:url(#default#VML)"),e.prototype.lines=function(t,n){function a(){return v(_("group",{coordsize:r+" "+r,coordorigin:-i+" "+-i}),{width:r,height:r})}function e(t,e,o){d(u,d(v(a(),{rotation:360/n.lines*t+"deg",left:~~e}),d(v(_("roundrect",{arcsize:n.corners}),{width:i,height:n.width,left:n.radius,top:-n.width>>1,filter:o}),_("fill",{color:M(n.color,t),opacity:n.opacity}),_("stroke",{opacity:0}))))}var o,i=n.length+n.width,r=2*i,s=2*-(n.width+n.length)+"px",u=v(a(),{position:"absolute",top:s,left:s});if(n.shadow)for(o=1;o<=n.lines;o++)e(o,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(o=1;o<=n.lines;o++)e(o);return d(t,u)},e.prototype.opacity=function(t,e,o,n){t=t.firstChild;n=n.shadow&&n.lines||0,t&&e+n<t.childNodes.length&&(t=(t=(t=t.childNodes[e+n])&&t.firstChild)&&t.firstChild)&&(t.opacity=o)}):m=C(t,"animation"),Oo=e;var Ro,Wo,S,F,E,P,We=xe(r),Ho=xe(ye),t="quirks"===be.hash.replace("#",""),j=l.csstransforms3d,He=j&&!t,Ko=j||"CSS1Compat"===ye.compatMode,Vo=Re.ok,t=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Bo=!He||t,Ke=navigator.msPointerEnabled,$="onwheel"in ye.createElement("div")?"wheel":ye.onmousewheel!==i?"mousewheel":"DOMMouseScroll",Ve=250,Be=300,q=1400,Xe="$stageFrame",Xo="$navDotFrame",Qo="$navThumbFrame",A=function(i){var r,t="bez_"+xe.makeArray(arguments).join("_").replace(".","p");return"function"!=typeof xe.easing[t]&&(r=function(o,n){function i(t,e){return u[e]=3*o[e],s[e]=3*(n[e]-o[e])-u[e],r[e]=1-u[e]-s[e],t*(u[e]+t*(s[e]+t*r[e]))}function e(t){for(var e,o,n=t,a=0;++a<14&&(e=i(n,0)-t,!(Math.abs(e)<.001));)n-=e/(o=n,u[0]+o*(2*s[0]+3*r[0]*o));return n}var r=[null,null],s=[null,null],u=[null,null];return function(t){return i(e(t),1)}},xe.easing[t]=function(t,e,o,n,a){return n*r([i[0],i[1]],[i[2],i[3]])(e/a)+o}),t}([.1,0,.25,1]),z="50%",L={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,fit:"contain",position:z,thumbposition:z,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:64,thumbheight:64,thumbmargin:2,thumbborderwidth:2,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Be,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},Uo={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};Pe.stop=function(t){Pe.ii[t]=!1},jQuery.Fotorama=function(i,x){function I(){xe.each(k,function(t,e){var o,n,a,i,r,s,u;!e.i&&(e.i=Yt++,u=Ge(e.video,!0))&&(o={},e.video=u,e.img||e.thumb?e.thumbsReady=!0:(a=k,i=P,"youtube"===(u=(n=e).video).type?(r=(s=Ee()+"img.youtube.com/vi/"+u.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),n.thumbsReady=!0):"vimeo"===u.type?xe.ajax({url:Ee()+"vimeo.com/api/v2/video/"+u.id+".json",dataType:"jsonp",success:function(t){n.thumbsReady=!0,Je(a,{img:t[0].thumbnail_large,thumb:t[0].thumbnail_small},n.i,i)}}):n.thumbsReady=!0,o={img:r,thumb:s}),Je(k,{img:o.img,thumb:o.thumb},e.i,P))})}function r(t){return zt[t]||P.fullScreen}function D(t){var e,o,n,a;t!==D.f&&(t?(i.html("").addClass(Le+" "+Qt).append(j).before(Jt).before(Zt),a=P,xe.Fotorama.instances.push(a),po()):(j.detach(),Jt.detach(),Zt.detach(),i.html(Gt.urtext).removeClass(Qt),a=P,xe.Fotorama.instances.splice(a.index,1),po()),e="keydown."+Le,o="keydown."+(n=Le+Xt),n="resize."+n+" orientationchange."+n,t?(Ho.on(o,function(t){var e,o;d&&27===t.keyCode?c(d,e=!0,!0):(P.fullScreen||x.keyboard&&!P.index)&&(27===t.keyCode?(e=!0,P.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&r("space")||37===t.keyCode&&r("left")||38===t.keyCode&&r("up")?o="<":32===t.keyCode&&r("space")||39===t.keyCode&&r("right")||40===t.keyCode&&r("down")?o=">":36===t.keyCode&&r("home")?o="<<":35===t.keyCode&&r("end")&&(o=">>")),(e||o)&&Ae(t),o&&P.show({index:o,slow:t.altKey,user:!0})}),P.index||Ho.off(e).on(e,"textarea, input, select",function(t){Wo.hasClass(Oe)||t.stopPropagation()}),We.on(n,P.resize)):(Ho.off(o),We.off(n)),D.f=t)}function R(){var t=M<2&&!x.enableifsingleframe||d;o.noMove=t||y,o.noSwipe=t||!x.swipe,b||$.toggleClass(xo,!x.click&&!o.noMove&&!o.noSwipe),Ke&&j.toggleClass("fotorama__wrap--pan-y",!o.noSwipe)}function W(t){!0===t&&(t=""),x.autoplay=Math.max(+t||5e3,1.5*qt)}function _(t){return t<0?(M+t%M)%M:M<=t?t%M:t}function H(t){return Ce(t,0,M-1)}function K(t){return(w?_:H)(t)}function V(t){return!!(0<t||w)&&t-1}function B(t){return!!(t<M-1||w)&&t+1}function e(t,i,r){var s;"number"==typeof t&&(t=new Array(t),s=!0),xe.each(t,function(t,e){var o,n,a;"number"==typeof(e=s?t:e)&&(o=k[_(e)])&&(a=o[n="$"+i+"Frame"],r.call(this,t,e,o,a,n,a&&a.data()))})}function X(t,e,o,n){Lt&&("*"!==Lt||n!==St)||(t=Se(x.width)||Se(t)||500,e=Se(x.height)||Se(e)||333,P.resize({width:t,ratio:x.ratio||o||t/e},0,n!==St&&"*"))}function Q(t,v,w,g,y,b){e(t,v,function(t,o,e,n,a,i){function r(t){var e=_(o);C(t,{index:e,src:m,frame:k[e]})}function s(){d.remove(),xe.Fotorama.cache[m]="error",e.html&&"stage"===v||!p||p===m?(!m||e.html||l?"stage"===v&&(n.trigger("f:load").removeClass($o+" "+No).addClass(qo),r("load"),X()):(n.trigger("f:error").removeClass($o).addClass(No),r("error")),i.state="error",!(1<M&&k[o]===e)||e.html||e.deleted||e.video||l||(e.deleted=!0,P.splice(o,1))):(e[h]=m=p,Q([o],v,w,g,y,!0))}function u(){var t=10;Pe(function(){return!Ht||!t--&&!Bo},function(){xe.Fotorama.measures[m]=f.measures=xe.Fotorama.measures[m]||{width:c.width,height:c.height,ratio:c.width/c.height},X(f.measures.width,f.measures.height,f.measures.ratio,o),d.off("load error").addClass(Ao+(l?" fotorama__img--full":"")).prependTo(n),to(d,(xe.isFunction(w)?w():w)||L,g||e.fit||x.fit,y||e.position||x.position),xe.Fotorama.cache[m]=i.state="loaded",setTimeout(function(){n.trigger("f:load").removeClass($o+" "+No).addClass(qo+" "+(l?"fotorama__loaded--full":"fotorama__loaded--img")),"stage"===v?r("load"):"auto"!==e.thumbratio&&(e.thumbratio||"auto"!==x.thumbratio)||(e.thumbratio=f.measures.ratio,T())},0)})}var l,c,d,f,h,m,p;n&&(l=P.fullScreen&&e.full&&e.full!==e.img&&!i.$full&&"stage"===v,i.$img&&!b&&!l||(c=new Image,d=xe(c),f=d.data(),i[l?"$full":"$img"]=d,m=e[h="stage"===v?l?"full":"img":"thumb"],p=l?null:e["stage"===v?"thumb":"img"],"navThumb"===v&&(n=i.$wrap),m?(xe.Fotorama.cache[m]?function t(){"error"===xe.Fotorama.cache[m]?s():"loaded"===xe.Fotorama.cache[m]?setTimeout(u,0):setTimeout(t,100)}():(xe.Fotorama.cache[m]="*",d.on("load",u).on("error",s)),i.state="",c.src=m):s()))})}function U(){fe.detach(),Tt&&Tt.stop()}function Y(){var t,e=f[Xe];e&&!e.data().state&&(t=e,fe.append(Tt.spin().el).appendTo(t),e.on("f:load f:error",function(){e.off("f:load f:error"),U()}))}function G(t){so(t,gt),uo(t,function(){setTimeout(function(){$e(q)},0),s({time:qt,guessIndex:xe(this).data().eq,minMax:O})})}function J(t,r){e(t,r,function(t,e,o,n,a,i){n||(n=o[a]=j[a].clone(),(i=n.data()).data=o,a=n[0],"stage"===r?(o.html&&xe('<div class="fotorama__html"></div>').append(o._html?xe(o.html).removeAttr("id").html(o._html):o.html).appendTo(n),o.caption&&xe(Ne("fotorama__caption",Ne("fotorama__caption__wrap",o.caption))).appendTo(n),o.video&&n.addClass("fotorama__stage__frame--video").append(ce.clone()),uo(a,function(){setTimeout(function(){$e(N)},0),vt({index:i.eq,user:!0})}),te=te.add(n)):"navDot"===r?(G(a),ie=ie.add(n)):"navThumb"===r&&(G(a),i.$wrap=n.children(":first"),re=re.add(n),o.video)&&i.$wrap.append(ce.clone()))})}function Z(t,e,o,n){return t&&t.length&&to(t,e,o,n)}function tt(t){e(t,"stage",function(t,e,o,n,a,i){var r,s,u;n&&(u=_(e),r=o.fit||x.fit,s=o.position||x.position,i.eq=u,ve[Xe][u]=n.css(xe.extend({left:y?0:Fe(e,L.w,x.margin,m)},y&&Qe(0))),u=n[0],xe.contains(ye.documentElement,u)||(n.appendTo($),c(o.$video)),Z(i.$img,L,r,s),Z(i.$full,L,r,s))})}function et(t,r){var s,u;"thumbs"!==g||isNaN(t)||(u=(s=-t)+L.nw,re.each(function(){function t(){return{h:$t,w:e.w}}var e=xe(this).data(),o=e.eq,n=t(),a=k[o]||{},i=a.thumbfit||x.thumbfit,a=a.thumbposition||x.thumbposition;n.w=e.w,e.l+e.w<s||e.l>u||Z(e.$img,n,i,a)||r&&Q([o],"navThumb",t,i,a)}))}function ot(t,e,o){var n,a;ot[o]||(n="nav"===o&&Ft,a=0,e.append(t.filter(function(){for(var t,e=xe(this),o=e.data(),n=0,a=k.length;n<a;n++)if(o.data===k[n]){t=!0,o.eq=n;break}return t||e.remove()&&!1}).sort(function(t,e){return xe(t).data().eq-xe(e).data().eq}).each(function(){var t,e,o;n&&(e=(t=xe(this)).data(),o=Math.round($t*e.data.thumbratio)||Nt,e.l=a,e.w=o,t.css({width:o}),a+=o+x.thumbmargin)})),ot[o]=!0)}function nt(t){return t-we>L.w/3}function a(t){return!(w||z+t&&z-M+t||d)}function at(){var t=a(0),e=a(1);ee.toggleClass(Co,t).attr(ro(t)),oe.toggleClass(Co,e).attr(ro(e))}function it(){he.ok&&(he.prevent={"<":a(0),">":a(1)})}function rt(t){var e,o=t.data(),o=Ft?(e=o.l,o.w):(e=t.position().left,t.width());return{c:e+o/2,min:-e+10*x.thumbmargin,max:-e+L.w-o-10*x.thumbmargin}}function st(t){var e=f[E].data();ze(se,{time:1.2*t,pos:e.l,width:e.w-2*x.thumbborderwidth})}function s(t){var e,o,n,a=k[t.guessIndex][E];a&&(e=O.min!==O.max,o=t.minMax||e&&rt(f[E]),a=e&&(t.keep&&s.l?s.l:Ce((t.coo||L.nw/2)-rt(a).c,o.min,o.max)),n=e&&Ce(a,O.min,O.max),ze(A,{time:1.1*t.time,pos:n||0,onEnd:function(){et(n,!0)}}),l(q,je(n,O.min,O.max)),s.l=a)}function ut(t){for(var e=pe[t];e.length;)e.shift().removeClass(Eo)}function lt(t){var o=ve[t];xe.each(h,function(t,e){delete o[_(e)]}),xe.each(o,function(t,e){delete o[t],e.detach()})}function ct(t){m=p=z;var e=f[Xe];e&&(ut(Xe),pe[Xe].push(e.addClass(Eo)),t||P.show.onEnd(!0),Ue($,0),lt(Xe),tt(h),o.min=w?-1/0:-Fe(M-1,L.w,x.margin,m),o.max=w?1/0:-Fe(0,L.w,x.margin,m),o.snap=L.w+x.margin,O.min=Math.min(0,L.nw-A.width()),O.max=0,A.toggleClass(xo,!(O.noMove=O.min===O.max)))}function dt(o,t){o&&xe.each(t,function(t,e){e&&xe.extend(e,{width:o.width||e.width,height:o.height,minwidth:o.minwidth,maxwidth:o.maxwidth,minheight:o.minheight,maxheight:o.maxheight,ratio:io(o.ratio)})})}function C(t,e){i.trigger(Le+":"+t,[P,e])}function ft(){clearTimeout(n.t),Ht=1,x.stopautoplayontouch?P.stopAutoplay():F=!0}function n(){Ht&&(x.stopautoplayontouch||(ht(),u()),n.t=setTimeout(function(){Ht=0},Be+Ve))}function ht(){F=!(!d&&!Rt)}function u(){var o,t;clearTimeout(u.t),Pe.stop(u.w),!x.autoplay||F?P.autoplay&&(P.autoplay=!1,C("stopautoplay")):(P.autoplay||(P.autoplay=!0,C("startautoplay")),o=z,t=f[Xe].data(),u.w=Pe(function(){return t.state||o!==z},function(){u.t=setTimeout(function(){var t,e;F||o!==z||(e=k[t=Mt][Xe].data(),u.w=Pe(function(){return e.state||t!==Mt},function(){F||t!==Mt||P.show(w?lo(!S):Mt)}))},x.autoplay)}))}function t(){P.fullScreen&&(P.fullScreen=!1,Vo&&Re.cancel(Ut),Wo.removeClass(Oe),Ro.removeClass(Oe),i.removeClass(jo).insertAfter(Zt),L=xe.extend({},Wt),c(d,!0,!0),wt("x",!1),P.resize(),Q(h,"stage"),$e(We,It,Ot),C("fullscreenexit"))}function l(t,e){At&&(t.removeClass("fotorama__shadows--left fotorama__shadows--right"),e)&&!d&&t.addClass(e.replace(/^|\s/g," "+Fo+"--"))}function c(t,e,o){e&&(j.removeClass(vo),d=!1,R()),t&&t!==d&&(t.remove(),C("unloadvideo")),o&&(ht(),u())}function mt(t){j.toggleClass(wo,t)}function pt(t){var e;o.flow||(e=(t=t?t.pageX:pt.x)&&!a(nt(t))&&x.click,pt.p!==e&&N.toggleClass("fotorama__pointer",e)&&(pt.p=e,pt.x=t))}function vt(e){clearTimeout(vt.t),x.clicktransition&&x.clicktransition!==x.transition?setTimeout(function(){var t=x.transition;P.setOptions({transition:x.clicktransition}),b=t,vt.t=setTimeout(function(){P.show(e)},10)},0):P.show(e)}function wt(t,e){o[t]=O[t]=e}function gt(t){vt({index:xe(this).data().eq,slow:t.altKey,user:!0,coo:t._x-q.offset().left})}function yt(t){vt({index:ne.index(this)?">":"<",slow:t.altKey,user:!0})}function bt(t){uo(t,function(){setTimeout(function(){$e(N)},0),mt(!1)})}function T(){var t,e,o,n;function a(t,e){n[t?"add":"remove"].push(e)}k=P.data=k||no(x.data)||Ze(i),M=P.size=k.length,!_t.ok&&x.shuffle&&oo(k),I(),z=H(z),M&&D(!0),P.options=x=ao(x),y="crossfade"===x.transition||"dissolve"===x.transition,w=x.loop&&(2<M||y&&(!b||"slide"!==b)),qt=+x.transitionduration||Be,S="rtl"===x.direction,zt=xe.extend({},x.keyboard&&Uo,x.keyboard),n={add:[],remove:[]},1<M||x.enableifsingleframe?(g=x.nav,Et="top"===x.navposition,n.remove.push(Po),ne.toggle(!!x.arrows)):(g=!1,ne.hide()),U(),Tt=new Oo(xe.extend(Io,x.spinner,Do,{direction:S?-1:1})),at(),it(),x.autoplay&&W(x.autoplay),Nt=ke(x.thumbwidth)||64,$t=ke(x.thumbheight)||64,he.ok=me.ok=x.trackpad&&!Bo,R(),dt(x,[L]),(Ft="thumbs"===g)?(J(M,"navThumb"),Ct=re,E=Qo,t=Jt,e=xe.Fotorama.jst.style({w:Nt,h:$t,b:x.thumbborderwidth,m:x.thumbmargin,s:Xt,q:!Ko}),(o=t[0]).styleSheet?o.styleSheet.cssText=e:t.html(e),q.addClass(Mo).removeClass(ko)):"dots"===g?(J(M,"navDot"),Ct=ie,E=Xo,q.addClass(ko).removeClass(Mo)):(g=!1,q.removeClass(Mo+" "+ko)),g&&(Et?ae.insertBefore(N):ae.insertAfter(N),ot.nav=!1,ot(Ct,A,"nav")),Pt=x.allowfullscreen,jt=Pt?(ue.prependTo(N),Vo&&"native"===Pt):(ue.detach(),!1),a(y,"fotorama__wrap--fade"),a(!y,"fotorama__wrap--slide"),a(!x.captions,"fotorama__wrap--no-captions"),a(S,"fotorama__wrap--rtl"),a("always"!==x.arrows,"fotorama__wrap--toggle-arrows"),a(!(At=x.shadows&&!Bo),"fotorama__wrap--no-shadows"),j.addClass(n.add.join(" ")).removeClass(n.remove.join(" ")),xe.extend({},x),T.i||(T.i=!0,((o=x.startindex)||x.hash&&be.hash)&&(St=eo(o||be.hash.replace(/^#/,""),k,0===P.index||o,o)),z=m=p=v=St=K(St)||0),M?xt()||(d&&c(d,!0),h=[],lt(Xe),T.ok=!0,P.show({index:z,time:0}),P.resize()):P.destroy()}function xt(){return!xt.f===S?(xt.f=S,z=M-1-z,P.reverse(),!0):void 0}function _t(){_t.ok||(_t.ok=!0,C("ready"))}Ro=xe("html"),Wo=xe("body");var k,M,Ct,Tt,d,f,h,m,p,v,kt,Mt,St,w,g,Ft,Et,Pt,jt,y,Nt,$t,qt,b,At,S,zt,Lt,Ot,It,Dt,F,Rt,Wt,Ht,Kt,E,Vt,Bt,P=this,Xt=xe.now(),Qt=Le+Xt,Ut=i[0],Yt=1,Gt=i.data(),Jt=xe("<style></style>"),Zt=xe(Ne("fotorama--hidden")),j=xe(Ne(Ie)),N=xe(Ne(yo)).appendTo(j),$=(N[0],xe(Ne("fotorama__stage__shaft")).appendTo(N)),te=xe(),ee=xe(Ne(_o+" fotorama__arr--prev"+De)),oe=xe(Ne(_o+" fotorama__arr--next"+De)),ne=ee.add(oe).appendTo(N),ae=xe(Ne("fotorama__nav-wrap")),q=xe(Ne(To)).appendTo(ae),A=xe(Ne("fotorama__nav__shaft")).appendTo(q),ie=xe(),re=xe(),se=($.data(),A.data(),xe(Ne("fotorama__thumb-border")).appendTo(A)),ue=xe(Ne("fotorama__fullscreen-icon"+De)),le=ue[0],ce=xe(Ne(Lo)),de=xe(Ne("fotorama__video-close")).appendTo(N)[0],fe=xe(Ne("fotorama__spinner")),z=!1,L={},o={},he={},O={},me={},pe={},ve={},we=0,ge=[];j[Xe]=xe(Ne(bo)),j[Qo]=xe(Ne(So+" fotorama__nav__frame--thumb"+De,Ne(zo))),j[Xo]=xe(Ne(So+" fotorama__nav__frame--dot"+De,Ne("fotorama__dot"))),pe[Xe]=[],pe[Qo]=[],pe[Xo]=[],ve[Xe]={},j.addClass(He?"fotorama__wrap--css3":"fotorama__wrap--css2").toggleClass(wo,!x.controlsonstart),Gt.fotorama=this,P.startAutoplay=function(t){return P.autoplay||(F=Rt=!1,W(t||x.autoplay),u()),this},P.stopAutoplay=function(){return P.autoplay&&(F=Rt=!0,u()),this},P.show=function(e){"object"!=typeof e?(o=e,e={}):o=e.index,o=">"===o?p+1:"<"===o?p-1:"<<"===o?0:">>"===o?M-1:o,o=void 0===(o=isNaN(o)?eo(o,k,!0):o)?z||0:o,P.activeIndex=z=K(o),Dt=V(z),kt=B(z),Mt=_(z+(S?-1:1)),h=[z,Dt,kt],p=w?o:z;var t=Math.abs(v-p),o=Ye(e.time,function(){return Math.min(qt*(1+(t-1)/12),2*qt)}),n=e.overPos,a=(e.slow&&(o*=10),f),i=(P.activeFrame=f=k[z],a===f&&!e.user),r=(c(d,f.i!==k[_(m)].i),J(h,"stage"),tt(Bo?[p]:[p,V(p),B(p)]),wt("go",!0),i||C("show",{user:e.user,time:o}),F=!0,P.show.onEnd=function(t){r.ok||(r.ok=!0,t||ct(!0),i||C("showend",{user:e.user}),!t&&b&&b!==x.transition?(P.setOptions({transition:b}),b=!1):(Y(),Q(h,"stage"),wt("go",!1),it(),pt(),ht(),u()))});return y?co(f[Xe],z!==v?k[v][Xe]:null,te,{time:o,method:x.transition,onEnd:r},ge):ze($,{pos:-Fe(p,L.w,x.margin,m),overPos:n,time:o,onEnd:r}),at(),g&&(ut(E),pe[E].push(f[E].addClass(Eo)),s({time:o,coo:(a=H(z+Ce(p-v,-1,1)))!==z&&e.coo,guessIndex:void 0!==e.coo?a:z,keep:i}),Ft)&&st(o),Dt=void 0!==v&&v!==z,v=z,x.hash&&Dt&&!P.eq&&(n=f.id||z+1,be.replace(be.protocol+"//"+be.host+be.pathname.replace(/^\/?/,"/")+be.search+"#"+n)),this},P.requestFullScreen=function(){return Pt&&!P.fullScreen&&(Ot=We.scrollTop(),It=We.scrollLeft(),$e(We),wt("x",!0),Wt=xe.extend({},L),i.addClass(jo).appendTo(Wo.addClass(Oe)),Ro.addClass(Oe),c(d,!0,!0),P.fullScreen=!0,jt&&Re.request(Ut),P.resize(),Q(h,"stage"),Y(),C("fullscreenenter")),this},P.cancelFullScreen=function(){return jt&&Re.is()?Re.cancel(ye):t(),this},P.toggleFullScreen=function(){return P[(P.fullScreen?"cancel":"request")+"FullScreen"]()},qe(ye,Re.event,function(){!k||Re.is()||d||t()}),P.resize=function(t){var e,o,n,a,i;return k&&(e=arguments[1]||0,o=arguments[2],dt(P.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:ao(t),[L,o||P.fullScreen||x]),t=L.width,n=L.height,a=L.ratio,i=We.height()-(g?q.height():0),Se(t)&&(j.addClass(go).css({width:t,minWidth:L.minwidth||0,maxWidth:L.maxwidth||99999}),t=L.W=L.w=j.width(),L.nw=g&&Me(x.navwidth,t)||t,x.glimpse&&(L.w-=Math.round(2*(Me(x.glimpse,t)||0))),$.css({width:L.w,marginLeft:(L.W-L.w)/2}),n=(n=Me(n,i))||a&&t/a)&&(t=Math.round(t),n=L.h=Math.round(Ce(n,Me(L.minheight,i),Me(L.maxheight,i))),N.stop().animate({width:t,height:n},e,function(){j.removeClass(go)}),ct(),g&&(q.stop().animate({width:L.nw},e),s({guessIndex:z,time:e,keep:!0}),Ft)&&ot.nav&&st(e),Lt=o||!0,_t()),we=N.offset().left),this},P.setOptions=function(t){return xe.extend(x,t),T(),this},P.shuffle=function(){return k&&oo(k)&&T(),this},P.destroy=function(){return P.cancelFullScreen(),P.stopAutoplay(),k=P.data=null,D(),h=[],lt(Xe),T.ok=!1,this},P.playVideo=function(){var t=f,e=t.video,o=z;return"object"==typeof e&&t.videoReady&&(jt&&P.fullScreen&&P.cancelFullScreen(),Pe(function(){return!Re.is()||o!==z},function(){o===z&&(t.$video=t.$video||xe(xe.Fotorama.jst.video(e)),t.$video.appendTo(t[Xe]),j.addClass(vo),d=t.$video,R(),ne.blur(),ue.blur(),C("loadvideo"))})),this},P.stopVideo=function(){return c(d,!0,!0),this},N.on("mousemove",pt),o=ho($,{onStart:ft,onMove:function(t,e){l(N,e.edge)},onTouchEnd:n,onEnd:function(t){l(N);var e,o,n,a,i=(Ke&&!Kt||t.touch)&&x.arrows&&"always"!==x.arrows;t.moved||i&&t.pos!==t.newPos&&!t.control?(e=t.newPos,o=L.w,n=x.margin,a=m,e=-Math.round(e/(o+(n||0))-(a||0)),P.show({index:e,time:y?qt:t.time,overPos:t.overPos,user:!0})):t.aborted||t.control||(o=t.startEvent,n=i,a=o.target,xe(a).hasClass(Lo)?P.playVideo():a===le?P.toggleFullScreen():d?a===de&&c(d,!0,!0):n?mt():x.click&&vt({index:o.shiftKey||lo(nt(o._x)),slow:o.altKey,user:!0}))},timeLow:1,timeHigh:1,friction:2,select:"."+Po+", ."+Po+" *",$wrap:N}),O=ho(A,{onStart:ft,onMove:function(t,e){l(q,e.edge)},onTouchEnd:n,onEnd:function(t){function e(){s.l=t.newPos,ht(),u(),et(t.newPos,!0)}var o;t.moved?t.pos!==t.newPos?(F=!0,ze(A,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),et(t.newPos),At&&l(q,je(t.newPos,O.min,O.max))):e():(o=t.$target.closest("."+So,A)[0])&&gt.call(o,t.startEvent)},timeLow:.5,timeHigh:2,friction:5,$wrap:q}),he=mo(N,{shift:!0,onEnd:function(t,e){ft(),n(),P.show({index:e,slow:t.altKey})}}),me=mo(q,{onEnd:function(t,e){ft(),n();var o=Ue(A)+.25*e;A.css(Te(Ce(o,O.min,O.max))),At&&l(q,je(o,O.min,O.max)),me.prevent={"<":o>=O.max,">":o<=O.min},clearTimeout(me.t),me.t=setTimeout(function(){et(s.l=o,!0)},Ve),et(o)}}),j.hover(function(){setTimeout(function(){Ht||mt(!(Kt=!0))},0)},function(){Kt&&mt(!(Kt=!1))}),Vt=function(t){Ae(t),yt.call(this,t)},Bt=(Bt={onStart:function(){ft(),o.control=!0},onTouchEnd:n})||{},ne.each(function(){var e,t=xe(this),o=t.data();o.clickOn||(o.clickOn=!0,xe.extend(fo(t,{onStart:function(t){e=t,(Bt.onStart||_e).call(this,t)},onMove:Bt.onMove||_e,onTouchEnd:Bt.onTouchEnd||_e,onEnd:function(t){t.moved||Vt.call(this,e)}}),{noMove:!0}))}),ne.each(function(){so(this,function(t){yt.call(this,t)}),bt(this)}),so(le,P.toggleFullScreen),bt(le),xe.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){P[e]=function(){return k=k||[],"load"!==e?Array.prototype[e].apply(k,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(k=no(arguments[0])),T(),P}}),T()},xe.fn.fotorama=function(a){return this.each(function(){var e=this,t=xe(this),o=t.data(),n=o.fotorama;n?n.setOptions(a,!0):Pe(function(){return!(0===(t=e).offsetWidth&&0===t.offsetHeight);var t},function(){o.urtext=t.html(),new xe.Fotorama(t,xe.extend({},L,r.fotoramaDefaults,a,o))})})},xe.Fotorama.instances=[],xe.Fotorama.cache={},xe.Fotorama.measures={},(xe=xe||{}).Fotorama=xe.Fotorama||{},xe.Fotorama.jst=xe.Fotorama.jst||{},xe.Fotorama.jst.style=function(t){var e;return""+(".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e))+"px}"},xe.Fotorama.jst.video=function(t){var e="",o=Array.prototype.join;return e+='<div class="fotorama__video"><iframe src="',function(){e+=o.call(arguments,"")}(("youtube"==t.type?t.p+"youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?t.p+"player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),e+='" frameborder="0" allowfullscreen></iframe></div>\n'},xe(function(){xe("."+Le+':not([data-auto="false"])').fotorama()})})(window,document,location,"undefined"!=typeof jQuery&&jQuery);
((t,i)=>{"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.lightbox=i(t.jQuery)})(this,function(g){function t(t){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=g.extend({},this.constructor.defaults),this.option(t)}return t.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},t.prototype.option=function(t){g.extend(this.options,t)},t.prototype.imageCountLabel=function(t,i){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)},t.prototype.init=function(){var t=this;g(document).ready(function(){t.enable(),t.build()})},t.prototype.enable=function(){var i=this;g("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(t){return i.start(g(t.currentTarget)),!1})},t.prototype.build=function(){var i;0<g("#lightbox").length||(i=this,g('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" role="button" tabindex="0" aria-label="Previous image" href="" ></a><a class="lb-next" role="button" tabindex="0" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel" role="button" tabindex="0"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close" role="button" tabindex="0"></a></div></div></div></div>').appendTo(g("body")),this.$lightbox=g("#lightbox"),this.$overlay=g("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return i.end(),!1}),this.$lightbox.hide().on("click",function(t){"lightbox"===g(t.target).attr("id")&&i.end()}),this.$outerContainer.on("click",function(t){return"lightbox"===g(t.target).attr("id")&&i.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===i.currentImageIndex?i.changeImage(i.album.length-1):i.changeImage(i.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return i.currentImageIndex===i.album.length-1?i.changeImage(0):i.changeImage(i.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(t){3===t.which&&(i.$nav.css("pointer-events","none"),i.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(i),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click keyup",function(t){if("click"===t.type||"keyup"===t.type&&(13===t.which||32===t.which))return i.end(),!1}))},t.prototype.start=function(t){var i=this,e=g(window),n=(e.on("resize",g.proxy(this.sizeOverlay,this)),this.sizeOverlay(),this.album=[],0);function o(t){i.album.push({alt:t.attr("data-alt"),link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var a=t.attr("data-lightbox");if(a)for(var s=g(t.prop("tagName")+'[data-lightbox="'+a+'"]'),h=0;h<s.length;h=++h)o(g(s[h])),s[h]===t[0]&&(n=h);else if("lightbox"===t.attr("rel"))o(t);else{s=g(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(var r=0;r<s.length;r=++r)o(g(s[r])),s[r]===t[0]&&(n=r)}a=e.scrollTop()+this.options.positionFromTop,e=e.scrollLeft();this.$lightbox.css({top:a+"px",left:e+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&g("body").addClass("lb-disable-scrolling"),this.changeImage(n)},t.prototype.changeImage=function(a){var s=this,h=this.album[a].link,r=h.split(".").slice(-1)[0],l=this.$lightbox.find(".lb-image"),d=(this.disableKeyboardNav(),this.$overlay.fadeIn(this.options.fadeDuration),g(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating"),new Image);d.onload=function(){l.attr({alt:s.album[a].alt,src:h}),g(d),l.width(d.width),l.height(d.height);var t,i,e=d.width/d.height,n=g(window).width(),o=g(window).height(),n=n-s.containerPadding.left-s.containerPadding.right-s.imageBorderWidth.left-s.imageBorderWidth.right-20,o=o-s.containerPadding.top-s.containerPadding.bottom-s.imageBorderWidth.top-s.imageBorderWidth.bottom-s.options.positionFromTop-70;"svg"===r?(t=1<=e?(i=n,parseInt(n/e,10)):(i=parseInt(o/e,10),o),l.width(i),l.height(t)):(s.options.fitImagesInViewport?(s.options.maxWidth&&s.options.maxWidth<n&&(n=s.options.maxWidth),s.options.maxHeight&&s.options.maxHeight<o&&(o=s.options.maxHeight)):(n=s.options.maxWidth||d.width||n,o=s.options.maxHeight||d.height||o),(d.width>n||d.height>o)&&(d.width/n>d.height/o?(i=n,t=parseInt(d.height/(d.width/i),10)):(t=o,i=parseInt(d.width/(d.height/t),10)),l.width(i),l.height(t))),s.sizeContainer(l.width(),l.height())},d.src=this.album[a].link,this.currentImageIndex=a},t.prototype.sizeOverlay=function(){var t=this;setTimeout(function(){t.$overlay.width(g(document).width()).height(g(document).height())},0)},t.prototype.sizeContainer=function(t,i){var e=this,n=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),a=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,s=i+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;function h(){e.$lightbox.find(".lb-dataContainer").width(a),e.$lightbox.find(".lb-prevLink").height(s),e.$lightbox.find(".lb-nextLink").height(s),e.$overlay.trigger("focus"),e.showImage()}n!==a||o!==s?this.$outerContainer.animate({width:a,height:s},this.options.resizeDuration,"swing",function(){h()}):h()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this.$lightbox.find(".lb-nav").show(),1<this.album.length&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(0<this.currentImageIndex&&(this.$lightbox.find(".lb-prev").show(),t)&&this.$lightbox.find(".lb-prev").css("opacity","1"),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t)&&this.$lightbox.find(".lb-next").css("opacity","1")))},t.prototype.updateDetails=function(){var t,i=this;void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&(t=this.$lightbox.find(".lb-caption"),this.options.sanitizeTitle?t.text(this.album[this.currentImageIndex].title):t.html(this.album[this.currentImageIndex].title),t.fadeIn("fast")),1<this.album.length&&this.options.showImageNumberLabel?(t=this.imageCountLabel(this.currentImageIndex+1,this.album.length),this.$lightbox.find(".lb-number").text(t).fadeIn("fast")):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return i.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),0<this.currentImageIndex&&((new Image).src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",g.proxy(this.keyboardAction,this)),this.$overlay.on("keyup.keyboard",g.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard"),this.$overlay.off(".keyboard")},t.prototype.keyboardAction=function(t){var i=t.keyCode;27===i?(t.stopPropagation(),this.end()):37===i?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&1<this.album.length&&this.changeImage(this.album.length-1):39===i&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&1<this.album.length&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav(),g(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),this.options.disableScrolling&&g("body").removeClass("lb-disable-scrolling")},new t});
((t,i)=>{"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.lightbox=i(t.jQuery)})(this,function(g){function t(t){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=g.extend({},this.constructor.defaults),this.option(t)}return t.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},t.prototype.option=function(t){g.extend(this.options,t)},t.prototype.imageCountLabel=function(t,i){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)},t.prototype.init=function(){var t=this;g(document).ready(function(){t.enable(),t.build()})},t.prototype.enable=function(){var i=this;g("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(t){return i.start(g(t.currentTarget)),!1})},t.prototype.build=function(){var i;0<g("#lightbox").length||(i=this,g('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" role="button" tabindex="0" aria-label="Previous image" href="" ></a><a class="lb-next" role="button" tabindex="0" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel" role="button" tabindex="0"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close" role="button" tabindex="0"></a></div></div></div></div>').appendTo(g("body")),this.$lightbox=g("#lightbox"),this.$overlay=g("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return i.end(),!1}),this.$lightbox.hide().on("click",function(t){"lightbox"===g(t.target).attr("id")&&i.end()}),this.$outerContainer.on("click",function(t){return"lightbox"===g(t.target).attr("id")&&i.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===i.currentImageIndex?i.changeImage(i.album.length-1):i.changeImage(i.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return i.currentImageIndex===i.album.length-1?i.changeImage(0):i.changeImage(i.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(t){3===t.which&&(i.$nav.css("pointer-events","none"),i.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(i),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click keyup",function(t){if("click"===t.type||"keyup"===t.type&&(13===t.which||32===t.which))return i.end(),!1}))},t.prototype.start=function(t){var i=this,e=g(window),n=(e.on("resize",g.proxy(this.sizeOverlay,this)),this.sizeOverlay(),this.album=[],0);function o(t){i.album.push({alt:t.attr("data-alt"),link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var a=t.attr("data-lightbox");if(a)for(var s=g(t.prop("tagName")+'[data-lightbox="'+a+'"]'),h=0;h<s.length;h=++h)o(g(s[h])),s[h]===t[0]&&(n=h);else if("lightbox"===t.attr("rel"))o(t);else{s=g(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(var r=0;r<s.length;r=++r)o(g(s[r])),s[r]===t[0]&&(n=r)}a=e.scrollTop()+this.options.positionFromTop,e=e.scrollLeft();this.$lightbox.css({top:a+"px",left:e+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&g("body").addClass("lb-disable-scrolling"),this.changeImage(n)},t.prototype.changeImage=function(a){var s=this,h=this.album[a].link,r=h.split(".").slice(-1)[0],l=this.$lightbox.find(".lb-image"),d=(this.disableKeyboardNav(),this.$overlay.fadeIn(this.options.fadeDuration),g(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating"),new Image);d.onload=function(){l.attr({alt:s.album[a].alt,src:h}),g(d),l.width(d.width),l.height(d.height);var t,i,e=d.width/d.height,n=g(window).width(),o=g(window).height(),n=n-s.containerPadding.left-s.containerPadding.right-s.imageBorderWidth.left-s.imageBorderWidth.right-20,o=o-s.containerPadding.top-s.containerPadding.bottom-s.imageBorderWidth.top-s.imageBorderWidth.bottom-s.options.positionFromTop-70;"svg"===r?(t=1<=e?(i=n,parseInt(n/e,10)):(i=parseInt(o/e,10),o),l.width(i),l.height(t)):(s.options.fitImagesInViewport?(s.options.maxWidth&&s.options.maxWidth<n&&(n=s.options.maxWidth),s.options.maxHeight&&s.options.maxHeight<o&&(o=s.options.maxHeight)):(n=s.options.maxWidth||d.width||n,o=s.options.maxHeight||d.height||o),(d.width>n||d.height>o)&&(d.width/n>d.height/o?(i=n,t=parseInt(d.height/(d.width/i),10)):(t=o,i=parseInt(d.width/(d.height/t),10)),l.width(i),l.height(t))),s.sizeContainer(l.width(),l.height())},d.src=this.album[a].link,this.currentImageIndex=a},t.prototype.sizeOverlay=function(){var t=this;setTimeout(function(){t.$overlay.width(g(document).width()).height(g(document).height())},0)},t.prototype.sizeContainer=function(t,i){var e=this,n=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),a=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,s=i+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;function h(){e.$lightbox.find(".lb-dataContainer").width(a),e.$lightbox.find(".lb-prevLink").height(s),e.$lightbox.find(".lb-nextLink").height(s),e.$overlay.trigger("focus"),e.showImage()}n!==a||o!==s?this.$outerContainer.animate({width:a,height:s},this.options.resizeDuration,"swing",function(){h()}):h()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this.$lightbox.find(".lb-nav").show(),1<this.album.length&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(0<this.currentImageIndex&&(this.$lightbox.find(".lb-prev").show(),t)&&this.$lightbox.find(".lb-prev").css("opacity","1"),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t)&&this.$lightbox.find(".lb-next").css("opacity","1")))},t.prototype.updateDetails=function(){var t,i=this;void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&(t=this.$lightbox.find(".lb-caption"),this.options.sanitizeTitle?t.text(this.album[this.currentImageIndex].title):t.html(this.album[this.currentImageIndex].title),t.fadeIn("fast")),1<this.album.length&&this.options.showImageNumberLabel?(t=this.imageCountLabel(this.currentImageIndex+1,this.album.length),this.$lightbox.find(".lb-number").text(t).fadeIn("fast")):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return i.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),0<this.currentImageIndex&&((new Image).src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",g.proxy(this.keyboardAction,this)),this.$overlay.on("keyup.keyboard",g.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard"),this.$overlay.off(".keyboard")},t.prototype.keyboardAction=function(t){var i=t.keyCode;27===i?(t.stopPropagation(),this.end()):37===i?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&1<this.album.length&&this.changeImage(this.album.length-1):39===i&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&1<this.album.length&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav(),g(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),this.options.disableScrolling&&g("body").removeClass("lb-disable-scrolling")},new t});